"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Context=React__default.createContext("use-store");function _useStore(e){var t=React.useContext(Context),r=_slicedToArray(React.useState(t.getState()),2),n=r[0],o=r[1];function u(){return"object"===_typeof(arguments.length<=0?void 0:arguments[0])?t.dispatch({type:e||"$$root",newState:function(e){return _objectSpread({},e,cb)}}):"function"==typeof(arguments.length<=0?void 0:arguments[0])?t.dispatch({type:e||"$$root",newState:function(e,t){return _objectSpread({},e,cb(e,t,n))}}):"string"==typeof(arguments.length<=0?void 0:arguments[0])&&"function"==typeof(arguments.length<=1?void 0:arguments[1])?t.dispatch({type:(arguments.length<=0?void 0:arguments[0])||"$$root",newState:function(e,t){return _objectSpread({},e,cb(e,t,n))}}):void 0}return React.useEffect(function(){var e=t.subscribe(function(){return o(t.getState())});return function(){return e()}}),"string"==typeof e?[n[e],u,n]:[n,u,n]}function createReducer(r,n){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=1<arguments.length?arguments[1]:void 0;return t.newState&&"function"!=typeof t.newState?(console.warn("[".concat(r,"] action.newState is not a function")),e):t.type===r&&t.newState(e,n)||e}}var provider=function(e){var t=e.store,r=e.children;return React__default.createElement(Context.Provider,{value:t},r)},useStore=_useStore;exports.useStore=useStore,exports.default=_useStore,exports.createReducer=createReducer,exports.Provider=provider;
