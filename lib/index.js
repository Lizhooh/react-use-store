"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Context=React__default.createContext("use-store");function _useStore(n){var o=React.useContext(Context),e=_slicedToArray(React.useState(o.getState()),2),u=e[0],t=e[1];function r(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return"object"===_typeof(r[0])?o.dispatch({type:n||"$$root",newState:function(e){return _objectSpread({},e,r[0])}}):"function"==typeof r[0]?o.dispatch({type:n||"$$root",newState:function(e,t){return _objectSpread({},e,r[0](e,t,u))}}):"string"==typeof r[0]&&"function"==typeof r[1]?o.dispatch({type:r[0]||"$$root",newState:function(e,t){return _objectSpread({},e,r[1](e,t,u))}}):void 0}return React.useEffect(function(){var e=o.subscribe(function(){return t(o.getState())});return function(){return e()}}),"string"==typeof n?[u[n],r,u]:[u,r,u]}function createReducer(r,n){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=1<arguments.length?arguments[1]:void 0;return t.newState&&"function"!=typeof t.newState?(console.warn("[".concat(r,"] action.newState is not a function")),e):t.type===r&&t.newState(e,n)||e}}var provider=function(e){var t=e.store,r=e.children;return React__default.createElement(Context.Provider,{value:t},r)},useStore=_useStore;exports.useStore=useStore,exports.default=_useStore,exports.createReducer=createReducer,exports.Provider=provider;
